@{
    ViewData["Title"] = "Категории по адресу";
    var categories = ViewBag.CategoriesByAddress as IEnumerable<dynamic>;
}

<h3>@ViewData["Title"]</h3>

<form method="get" asp-action="CategoriesByAddress" class="row g-2 mb-3">
    <div class="col-auto">
        <label for="address" class="col-form-label">Адрес:</label>
    </div>
    <div class="col-auto">
        <input type="text" name="address" id="address" class="form-control"
               value="@ViewBag.Address" placeholder="Например: г. Караганда, ул. Лермонтова, д. 15" required />
    </div>
    <div class="col-auto">
        <button type="submit" class="btn btn-outline-primary">Показать</button>
    </div>
</form>

@if (categories != null && categories.Any())
{
    <div class="table-responsive">
        <table class="table table-dark table-bordered mt-2">
            <thead>
            <tr>
                <th>Адрес</th>
                <th>Категории</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var row in categories)
            {
                <tr>
                    <td>@row.Address</td>
                    <td>@row.Categories</td>
                </tr>
            }
            </tbody>
        </table>
    </div>
}
else if (!string.IsNullOrWhiteSpace(ViewBag.Address))
{
    <div class="alert alert-warning mt-2">
        Нет налогоплательщиков по этому адресу.
    </div>
}